<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laboratorio de Lógica</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-interactive.css">
</head>
<body>
    <div class="layout">
        <aside class="sidebar">
            <div class="brand">
                <img src="logo.jpeg" alt="UIFCE Logo" class="brand-logo">
            </div>
            <nav class="nav">
                <button class="nav-btn active" data-target="inicio">Inicio</button>
                <button class="nav-btn" data-target="variables">1. Variables</button>
                <button class="nav-btn" data-target="condicionales">2. Condicionales</button>
                <button class="nav-btn" data-target="for">3. Ciclo For</button>
                <button class="nav-btn" data-target="while">4. Ciclo While</button>
                <button class="nav-btn" data-target="anidados">5. Ciclos Anidados</button>
                <button class="nav-btn" data-target="estructuras">6. Arrays</button>
                <button class="nav-btn" data-target="funciones">7. Funciones</button>
                <button class="nav-btn" data-target="explicacion-diagramas">8. Explicación Diagramas</button>
                <button class="nav-btn" data-target="diagrama">9. Generar diagrama</button>
            </nav>
        </aside>

        <main class="main">
            <header class="topbar">
                <h1>Introducción a la lógica de programación</h1>
                <p class="hint">Escribe tu código JavaScript a la izquierda y ve el resultado animado a la derecha.</p>
            </header>

            <!-- SECCIÓN 0: INICIO -->
            <section class="panel" id="inicio" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Bienvenida</p>
                        <h2>Inicio</h2>
                        <p class="hint">Tu punto de partida en el mundo de la programación.</p>
                    </div>
                </div>
                <div class="panel-body" style="display: block; padding: 30px;">
                    <div style="max-width: 800px; margin: 0 auto; line-height: 1.6;">
                        <h3 style="color: var(--accent); margin-top: 0;">Objetivo del Laboratorio</h3>
                        <p style="margin-bottom: 20px;">Este laboratorio interactivo está diseñado para ayudarte a comprender los fundamentos de la lógica de programación de una manera visual y práctica. Aquí no solo escribirás código, sino que verás cómo funciona por dentro.</p>
                        
                        <h3 style="color: var(--accent);">¿Qué encontrarás aquí?</h3>
                        <ul style="margin-bottom: 20px; padding-left: 20px;">
                            <li style="margin-bottom: 8px;"><strong>Variables:</strong> Aprende cómo se guardan los datos en la memoria.</li>
                            <li style="margin-bottom: 8px;"><strong>Condicionales:</strong> Entiende cómo los programas toman decisiones.</li>
                            <li style="margin-bottom: 8px;"><strong>Ciclos:</strong> Domina la repetición de tareas con For y While.</li>
                            <li style="margin-bottom: 8px;"><strong>Estructuras de Datos:</strong> Organiza información compleja con Arrays.</li>
                            <li style="margin-bottom: 8px;"><strong>Funciones:</strong> Crea bloques de código reutilizables.</li>
                            <li style="margin-bottom: 8px;"><strong>Diagramas de Flujo:</strong> Diseña y visualiza la lógica de tus algoritmos gráficamente.</li>
                        </ul>

                        <h3 style="color: var(--accent);">¿Qué puedes hacer?</h3>
                        <p>En cada sección encontrarás un editor de código donde podrás escribir JavaScript real. Al ejecutarlo, verás animaciones que representan lo que ocurre en la memoria de la computadora o en el flujo del programa.</p>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 1: VARIABLES -->
            <section class="panel hidden" id="variables" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 01</p>
                        <h2>Variables</h2>
                        <p class="hint">Las variables son como cajas con nombre donde guardamos datos.</p>
                    </div>
                    <button class="btn run-btn" data-run="variables">▶ Ejecutar</button>
                </div>
                <div class="panel-body">
                    <div class="editor">
                        <label for="code-variables">Código JavaScript</label>
                        <textarea id="code-variables" class="code" spellcheck="false">// 1. Declara tus variables
let heroe = "Link";
let vidas = 3;
let tieneEspada = true;

// 2. ¡Visualízalas!
crearVariable("heroe", heroe);
crearVariable("vidas", vidas);
crearVariable("tieneEspada", tieneEspada);
</textarea>
                    </div>
                    <div class="visual" id="visual-variables">
                        <div class="viz-title">Memoria del Programa</div>
                        <div class="viz-area" data-visual="variables"></div>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 2: CONDICIONALES -->
            <section class="panel hidden" id="condicionales" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 02</p>
                        <h2>Condicionales (if/else)</h2>
                        <p class="hint">El código toma decisiones basadas en preguntas (verdadero o falso).</p>
                    </div>
                    <button class="btn run-btn" data-run="condicionales">▶ Ejecutar</button>
                </div>
                <div class="panel-body">
                    <div class="editor">
                        <label for="code-condicionales">Código JavaScript</label>
                        <textarea id="code-condicionales" class="code" spellcheck="false">let energia = 80;

// Cambia el valor de energia para ver el otro camino
if (energia > 50) {
    animarCondicional(true, "energia > 50");
} else {
    animarCondicional(false, "energia > 50");
}
</textarea>
                    </div>
                    <div class="visual" id="visual-condicionales">
                        <div class="viz-title">Flujo de Decisión</div>
                        <div class="viz-area" data-visual="condicionales"></div>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 3: CICLO FOR -->
            <section class="panel hidden" id="for" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 03</p>
                        <h2>Ciclo For</h2>
                        <p class="hint">Repite un bloque de código un número específico de veces.</p>
                    </div>
                    <button class="btn run-btn" data-run="for">▶ Ejecutar</button>
                </div>
                <div class="panel-body">
                    <div class="editor">
                        <label for="code-for">Código JavaScript</label>
                        <textarea id="code-for" class="code" spellcheck="false">// Vamos a contar hasta 5
let total = 5;

for (let i = 1; i <= total; i++) {
    // Visualiza cada paso del ciclo
    animarCicloFor(i, total);
}
</textarea>
                    </div>
                    <div class="visual" id="visual-for">
                        <div class="viz-title">Línea de Tiempo del Ciclo</div>
                        <div class="viz-area" data-visual="for"></div>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 4: CICLO WHILE -->
            <section class="panel hidden" id="while" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 04</p>
                        <h2>Ciclo While</h2>
                        <p class="hint">Repite MIENTRAS una condición sea verdadera.</p>
                    </div>
                    <button class="btn run-btn" data-run="while">▶ Ejecutar</button>
                </div>
                <div class="panel-body">
                    <div class="editor">
                        <label for="code-while">Código JavaScript</label>
                        <textarea id="code-while" class="code" spellcheck="false">let combustible = 5;

while (combustible > 0) {
    // 1. Visualizamos que la condición es verdadera
    animarCicloWhile(true, combustible);
    
    // 2. Reducimos el combustible
    combustible = combustible - 1;
}

// Al final, la condición falla (combustible es 0)
animarCicloWhile(false, 0);
</textarea>
                    </div>
                    <div class="visual" id="visual-while">
                        <div class="viz-title">Verificación de Estado</div>
                        <div class="viz-area" data-visual="while"></div>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 5: CICLOS ANIDADOS -->
            <section class="panel hidden" id="anidados" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 05</p>
                        <h2>Ciclos Anidados</h2>
                        <p class="hint">Un ciclo dentro de otro. Útil para recorrer grillas o matrices.</p>
                    </div>
                    <button class="btn run-btn" data-run="anidados">▶ Ejecutar</button>
                </div>
                <div class="panel-body">
                    <div class="editor">
                        <label for="code-anidados">Código JavaScript</label>
                        <textarea id="code-anidados" class="code" spellcheck="false">let filas = 4;
let columnas = 4;

// Ciclo externo (Filas)
for (let f = 0; f < filas; f++) {
    
    // Ciclo interno (Columnas)
    for (let c = 0; c < columnas; c++) {
        animarAnidado(f, c, filas, columnas);
    }
    
}
</textarea>
                    </div>
                    <div class="visual" id="visual-anidados">
                        <div class="viz-title">Exploración de Matriz</div>
                        <div class="viz-area" data-visual="anidados"></div>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 6: ESTRUCTURAS DE DATOS -->
            <section class="panel hidden" id="estructuras" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 06</p>
                        <h2>Arrays (Arreglos)</h2>
                        <p class="hint">Listas ordenadas de datos. Cada dato tiene un índice (posición).</p>
                    </div>
                    <button class="btn run-btn" data-run="estructuras">▶ Ejecutar</button>
                </div>
                <div class="panel-body">
                    <div class="editor">
                        <label for="code-estructuras">Código JavaScript</label>
                        <textarea id="code-estructuras" class="code" spellcheck="false">// Una lista de puntuaciones
let puntuaciones = [100, 50, 75, 90, 25];

// Visualiza el array completo
animarArray(puntuaciones);

// ¡Prueba cambiando los números!
</textarea>
                    </div>
                    <div class="visual" id="visual-estructuras">
                        <div class="viz-title">Visualización de Memoria</div>
                        <div class="viz-area" data-visual="estructuras"></div>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 7: FUNCIONES -->
            <section class="panel hidden" id="funciones" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 07</p>
                        <h2>Funciones</h2>
                        <p class="hint">Máquinas que reciben datos (entrada), hacen algo y devuelven un resultado (salida).</p>
                    </div>
                    <button class="btn run-btn" data-run="funciones">▶ Ejecutar</button>
                </div>
                <div class="panel-body">
                    <div class="editor">
                        <label for="code-funciones">Código JavaScript</label>
                        <textarea id="code-funciones" class="code" spellcheck="false">function duplicar(numero) {
    return numero * 2;
}

function saludar(nombre) {
    return "Hola " + nombre;
}

// Probamos las funciones
let res1 = duplicar(5);
animarFuncion("duplicar", [5], res1);

let res2 = saludar("Ana");
animarFuncion("saludar", ["Ana"], res2);
</textarea>
                    </div>
                    <div class="visual" id="visual-funciones">
                        <div class="viz-title">Procesamiento de Datos</div>
                        <div class="viz-area" data-visual="funciones"></div>
                    </div>
                </div>
            </section>

            <!-- SECCIÓN 8: EXPLICACIÓN DIAGRAMAS -->
            <section class="panel hidden" id="explicacion-diagramas" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Concepto 08</p>
                        <h2>Partes de un Diagrama de Flujo</h2>
                        <p class="hint">Aprende qué significa cada figura y cómo se traduce a código.</p>
                    </div>
                </div>
                <div class="panel-body" style="display: block; padding: 30px; overflow-y: auto;">
                    
                    <div class="intro-text" style="max-width: 800px; margin: 0 auto 40px; text-align: center; background: #f0f9ff; padding: 20px; border-radius: 10px; border: 1px solid #bae6fd;">
                        <h3 style="color: #0369a1; margin-top: 0;">¿Qué es un Diagrama de Flujo?</h3>
                        <p style="color: #0c4a6e; margin-bottom: 0;">Es un lenguaje visual universal (Estándar ISO 5807) que permite representar algoritmos de forma gráfica. Antes de escribir una sola línea de código, los programadores usan estos diagramas para planear la lógica. <strong>¡Pasa el mouse sobre las tarjetas para verlas cobrar vida!</strong></p>
                    </div>

                    <div class="diagram-explanation-grid">
                        
                        <!-- Inicio / Fin -->
                        <div class="interactive-card">
                            <div class="card-visual">
                                <div class="fc-start-end">INICIO</div>
                            </div>
                            <div class="card-content">
                                <span class="card-badge badge-blue">Terminal</span>
                                <h3>Inicio / Fin</h3>
                                <p class="definition">Marca los límites absolutos de tu algoritmo.</p>
                                <div class="details">
                                    <p>Todo programa necesita saber dónde empezar y dónde terminar. En un diagrama, esta figura es única para el inicio, pero puede haber varios finales.</p>
                                </div>
                                <div class="code-preview">
                                    // No tiene código directo,<br>
                                    // representa el archivo entero.
                                </div>
                            </div>
                        </div>

                        <!-- Proceso -->
                        <div class="interactive-card">
                            <div class="card-visual">
                                <div class="fc-process" style="padding: 15px 30px;">x = x + 1</div>
                            </div>
                            <div class="card-content">
                                <span class="card-badge badge-gray">Proceso</span>
                                <h3>Acción / Cálculo</h3>
                                <p class="definition">Representa una operación interna de la computadora.</p>
                                <div class="details">
                                    <p>Aquí ocurren las matemáticas y las asignaciones. Es el "trabajo" real del programa, donde los datos se transforman.</p>
                                </div>
                                <div class="code-preview">
                                    let vidas = 3;<br>
                                    puntos = puntos + 100;
                                </div>
                            </div>
                        </div>

                        <!-- Entrada / Salida -->
                        <div class="interactive-card">
                            <div class="card-visual">
                                <div class="fc-io"><span>Leer Nombre</span></div>
                            </div>
                            <div class="card-content">
                                <span class="card-badge badge-yellow">E / S</span>
                                <h3>Entrada / Salida</h3>
                                <p class="definition">Comunicación con el mundo exterior.</p>
                                <div class="details">
                                    <p><strong>Entrada:</strong> El usuario escribe algo (Teclado).<br><strong>Salida:</strong> El programa muestra algo (Pantalla).</p>
                                </div>
                                <div class="code-preview">
                                    // Entrada<br>
                                    let nombre = prompt();<br>
                                    // Salida<br>
                                    console.log(nombre);
                                </div>
                            </div>
                        </div>

                        <!-- Decisión -->
                        <div class="interactive-card">
                            <div class="card-visual">
                                <div class="fc-decision"><span>?</span></div>
                            </div>
                            <div class="card-content">
                                <span class="card-badge badge-green">Decisión</span>
                                <h3>Condicional</h3>
                                <p class="definition">El cerebro del algoritmo que toma decisiones.</p>
                                <div class="details">
                                    <p>Evalúa una pregunta de Sí o No. Dependiendo de la respuesta, el flujo toma un camino diferente (bifurcación).</p>
                                </div>
                                <div class="code-preview">
                                    if (edad >= 18) {<br>
                                    &nbsp;&nbsp;// Camino Sí<br>
                                    } else {<br>
                                    &nbsp;&nbsp;// Camino No<br>
                                    }
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </section>

            <!-- SECCIÓN 9: GENERAR DIAGRAMA -->
            <section class="panel hidden" id="diagrama" data-section>
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">Herramienta Interactiva</p>
                        <h2>Generar diagrama</h2>
                        <p class="hint">Escribe tu código y verás cómo se transforma mágicamente en un diagrama visual.</p>
                    </div>
                </div>
                <div class="panel-body" style="padding: 0; height: 100%; overflow: hidden;">
                    <iframe src="diagram-app/dist/index.html" style="width: 100%; height: 100%; border: none; display: block;" title="Generador de Diagramas"></iframe>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
